(function(be,Ze){typeof exports=="object"&&typeof module<"u"?Ze(exports):typeof define=="function"&&define.amd?define(["exports"],Ze):(be=typeof globalThis<"u"?globalThis:be||self,Ze(be["time-line"]={}))})(this,function(be){"use strict";function Ze(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const se=process.env.NODE_ENV!=="production"?Object.freeze({}):{},wr=process.env.NODE_ENV!=="production"?Object.freeze([]):[],ze=()=>{},vr=/^on[^a-z]/,yr=e=>vr.test(e),Q=Object.assign,br=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Sr=Object.prototype.hasOwnProperty,W=(e,t)=>Sr.call(e,t),D=Array.isArray,Se=e=>ot(e)==="[object Map]",ln=e=>ot(e)==="[object Set]",Z=e=>typeof e=="function",ee=e=>typeof e=="string",Ot=e=>typeof e=="symbol",z=e=>e!==null&&typeof e=="object",Tr=e=>z(e)&&Z(e.then)&&Z(e.catch),fn=Object.prototype.toString,ot=e=>fn.call(e),dn=e=>ot(e).slice(8,-1),hn=e=>ot(e)==="[object Object]",Nt=e=>ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,pn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},mn=pn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Er=pn(e=>e?`on${mn(e)}`:""),Be=(e,t)=>!Object.is(e,t),Mr=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};let gn;const $t=()=>gn||(gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function st(e){if(D(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=ee(r)?$r(r):st(r);if(o)for(const i in o)t[i]=o[i]}return t}else{if(ee(e))return e;if(z(e))return e}}const xr=/;(?![^(]*\))/g,Or=/:([^]+)/,Nr=/\/\*[^]*?\*\//g;function $r(e){const t={};return e.replace(Nr,"").split(xr).forEach(n=>{if(n){const r=n.split(Or);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function it(e){let t="";if(ee(e))t=e;else if(D(e))for(let n=0;n<e.length;n++){const r=it(e[n]);r&&(t+=r+" ")}else if(z(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Dr=e=>ee(e)?e:e==null?"":D(e)||z(e)&&(e.toString===fn||!Z(e.toString))?JSON.stringify(e,_n,2):String(e),_n=(e,t)=>t&&t.__v_isRef?_n(e,t.value):Se(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:ln(t)?{[`Set(${t.size})`]:[...t.values()]}:z(t)&&!D(t)&&!hn(t)?String(t):t;function wn(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let vn;function Cr(e,t=vn){t&&t.active&&t.effects.push(e)}function Rr(){return vn}const ke=e=>{const t=new Set(e);return t.w=0,t.n=0,t},yn=e=>(e.w&pe)>0,bn=e=>(e.n&pe)>0,Ir=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=pe},Vr=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];yn(o)&&!bn(o)?o.delete(e):t[n++]=o,o.w&=~pe,o.n&=~pe}t.length=n}},Dt=new WeakMap;let Ue=0,pe=1;const Ct=30;let K;const Te=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),Rt=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");class Sn{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Cr(this,r)}run(){if(!this.active)return this.fn();let t=K,n=me;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=K,K=this,me=!0,pe=1<<++Ue,Ue<=Ct?Ir(this):Tn(this),this.fn()}finally{Ue<=Ct&&Vr(this),pe=1<<--Ue,K=this.parent,me=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){K===this?this.deferStop=!0:this.active&&(Tn(this),this.onStop&&this.onStop(),this.active=!1)}}function Tn(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let me=!0;const En=[];function It(){En.push(me),me=!1}function Vt(){const e=En.pop();me=e===void 0?!0:e}function q(e,t,n){if(me&&K){let r=Dt.get(e);r||Dt.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=ke());const i=process.env.NODE_ENV!=="production"?{effect:K,target:e,type:t,key:n}:void 0;Pt(o,i)}}function Pt(e,t){let n=!1;Ue<=Ct?bn(e)||(e.n|=pe,n=!yn(e)):n=!e.has(K),n&&(e.add(K),K.deps.push(e),process.env.NODE_ENV!=="production"&&K.onTrack&&K.onTrack(Q({effect:K},t)))}function ge(e,t,n,r,o,i){const c=Dt.get(e);if(!c)return;let s=[];if(t==="clear")s=[...c.values()];else if(n==="length"&&D(e)){const p=Number(r);c.forEach((S,u)=>{(u==="length"||u>=p)&&s.push(S)})}else switch(n!==void 0&&s.push(c.get(n)),t){case"add":D(e)?Nt(n)&&s.push(c.get("length")):(s.push(c.get(Te)),Se(e)&&s.push(c.get(Rt)));break;case"delete":D(e)||(s.push(c.get(Te)),Se(e)&&s.push(c.get(Rt)));break;case"set":Se(e)&&s.push(c.get(Te));break}const l=process.env.NODE_ENV!=="production"?{target:e,type:t,key:n,newValue:r,oldValue:o,oldTarget:i}:void 0;if(s.length===1)s[0]&&(process.env.NODE_ENV!=="production"?Ve(s[0],l):Ve(s[0]));else{const p=[];for(const S of s)S&&p.push(...S);process.env.NODE_ENV!=="production"?Ve(ke(p),l):Ve(ke(p))}}function Ve(e,t){const n=D(e)?e:[...e];for(const r of n)r.computed&&Mn(r,t);for(const r of n)r.computed||Mn(r,t)}function Mn(e,t){(e!==K||e.allowRecurse)&&(process.env.NODE_ENV!=="production"&&e.onTrigger&&e.onTrigger(Q({effect:e},t)),e.scheduler?e.scheduler():e.run())}const Pr=Ze("__proto__,__v_isRef,__isVue"),xn=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ot)),Lr=Lt(),Hr=Lt(!0),Ar=Lt(!0,!0),On=jr();function jr(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=E(this);for(let i=0,c=this.length;i<c;i++)q(r,"get",i+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(E)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){It();const r=E(this)[t].apply(this,n);return Vt(),r}}),e}function Fr(e){const t=E(this);return q(t,"has",e),t.hasOwnProperty(e)}function Lt(e=!1,t=!1){return function(r,o,i){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&i===(e?t?Ln:Pn:t?no:Vn).get(r))return r;const c=D(r);if(!e){if(c&&W(On,o))return Reflect.get(On,o,i);if(o==="hasOwnProperty")return Fr}const s=Reflect.get(r,o,i);return(Ot(o)?xn.has(o):Pr(o))||(e||q(r,"get",o),t)?s:G(s)?c&&Nt(o)?s:s.value:z(s)?e?Hn(s):ht(s):s}}const Yr=Wr();function Wr(e=!1){return function(n,r,o,i){let c=n[r];if(we(c)&&G(c)&&!G(o))return!1;if(!e&&(!mt(o)&&!we(o)&&(c=E(c),o=E(o)),!D(n)&&G(c)&&!G(o)))return c.value=o,!0;const s=D(n)&&Nt(r)?Number(r)<n.length:W(n,r),l=Reflect.set(n,r,o,i);return n===E(i)&&(s?Be(o,c)&&ge(n,"set",r,o,c):ge(n,"add",r,o)),l}}function Zr(e,t){const n=W(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&ge(e,"delete",t,void 0,r),o}function zr(e,t){const n=Reflect.has(e,t);return(!Ot(t)||!xn.has(t))&&q(e,"has",t),n}function Br(e){return q(e,"iterate",D(e)?"length":Te),Reflect.ownKeys(e)}const kr={get:Lr,set:Yr,deleteProperty:Zr,has:zr,ownKeys:Br},Nn={get:Hr,set(e,t){return process.env.NODE_ENV!=="production"&&wn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return process.env.NODE_ENV!=="production"&&wn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Ur=Q({},Nn,{get:Ar}),Ht=e=>e,ct=e=>Reflect.getPrototypeOf(e);function at(e,t,n=!1,r=!1){e=e.__v_raw;const o=E(e),i=E(t);n||(t!==i&&q(o,"get",t),q(o,"get",i));const{has:c}=ct(o),s=r?Ht:n?Yt:Ke;if(c.call(o,t))return s(e.get(t));if(c.call(o,i))return s(e.get(i));e!==o&&e.get(t)}function ut(e,t=!1){const n=this.__v_raw,r=E(n),o=E(e);return t||(e!==o&&q(r,"has",e),q(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function lt(e,t=!1){return e=e.__v_raw,!t&&q(E(e),"iterate",Te),Reflect.get(e,"size",e)}function $n(e){e=E(e);const t=E(this);return ct(t).has.call(t,e)||(t.add(e),ge(t,"add",e,e)),this}function Dn(e,t){t=E(t);const n=E(this),{has:r,get:o}=ct(n);let i=r.call(n,e);i?process.env.NODE_ENV!=="production"&&In(n,r,e):(e=E(e),i=r.call(n,e));const c=o.call(n,e);return n.set(e,t),i?Be(t,c)&&ge(n,"set",e,t,c):ge(n,"add",e,t),this}function Cn(e){const t=E(this),{has:n,get:r}=ct(t);let o=n.call(t,e);o?process.env.NODE_ENV!=="production"&&In(t,n,e):(e=E(e),o=n.call(t,e));const i=r?r.call(t,e):void 0,c=t.delete(e);return o&&ge(t,"delete",e,void 0,i),c}function Rn(){const e=E(this),t=e.size!==0,n=process.env.NODE_ENV!=="production"?Se(e)?new Map(e):new Set(e):void 0,r=e.clear();return t&&ge(e,"clear",void 0,void 0,n),r}function ft(e,t){return function(r,o){const i=this,c=i.__v_raw,s=E(c),l=t?Ht:e?Yt:Ke;return!e&&q(s,"iterate",Te),c.forEach((p,S)=>r.call(o,l(p),l(S),i))}}function dt(e,t,n){return function(...r){const o=this.__v_raw,i=E(o),c=Se(i),s=e==="entries"||e===Symbol.iterator&&c,l=e==="keys"&&c,p=o[e](...r),S=n?Ht:t?Yt:Ke;return!t&&q(i,"iterate",l?Rt:Te),{next(){const{value:u,done:v}=p.next();return v?{value:u,done:v}:{value:s?[S(u[0]),S(u[1])]:S(u),done:v}},[Symbol.iterator](){return this}}}}function _e(e){return function(...t){if(process.env.NODE_ENV!=="production"){const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${mn(e)} operation ${n}failed: target is readonly.`,E(this))}return e==="delete"?!1:this}}function Kr(){const e={get(i){return at(this,i)},get size(){return lt(this)},has:ut,add:$n,set:Dn,delete:Cn,clear:Rn,forEach:ft(!1,!1)},t={get(i){return at(this,i,!1,!0)},get size(){return lt(this)},has:ut,add:$n,set:Dn,delete:Cn,clear:Rn,forEach:ft(!1,!0)},n={get(i){return at(this,i,!0)},get size(){return lt(this,!0)},has(i){return ut.call(this,i,!0)},add:_e("add"),set:_e("set"),delete:_e("delete"),clear:_e("clear"),forEach:ft(!0,!1)},r={get(i){return at(this,i,!0,!0)},get size(){return lt(this,!0)},has(i){return ut.call(this,i,!0)},add:_e("add"),set:_e("set"),delete:_e("delete"),clear:_e("clear"),forEach:ft(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=dt(i,!1,!1),n[i]=dt(i,!0,!1),t[i]=dt(i,!1,!0),r[i]=dt(i,!0,!0)}),[e,n,t,r]}const[Gr,Xr,Jr,qr]=Kr();function At(e,t){const n=t?e?qr:Jr:e?Xr:Gr;return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(W(n,o)&&o in r?n:r,o,i)}const Qr={get:At(!1,!1)},eo={get:At(!0,!1)},to={get:At(!0,!0)};function In(e,t,n){const r=E(n);if(r!==n&&t.call(e,r)){const o=dn(e);console.warn(`Reactive ${o} contains both the raw and reactive versions of the same object${o==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Vn=new WeakMap,no=new WeakMap,Pn=new WeakMap,Ln=new WeakMap;function ro(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oo(e){return e.__v_skip||!Object.isExtensible(e)?0:ro(dn(e))}function ht(e){return we(e)?e:jt(e,!1,kr,Qr,Vn)}function Hn(e){return jt(e,!0,Nn,eo,Pn)}function pt(e){return jt(e,!0,Ur,to,Ln)}function jt(e,t,n,r,o){if(!z(e))return process.env.NODE_ENV!=="production"&&console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const c=oo(e);if(c===0)return e;const s=new Proxy(e,c===2?r:n);return o.set(e,s),s}function Ee(e){return we(e)?Ee(e.__v_raw):!!(e&&e.__v_isReactive)}function we(e){return!!(e&&e.__v_isReadonly)}function mt(e){return!!(e&&e.__v_isShallow)}function Ft(e){return Ee(e)||we(e)}function E(e){const t=e&&e.__v_raw;return t?E(t):e}function so(e){return Mr(e,"__v_skip",!0),e}const Ke=e=>z(e)?ht(e):e,Yt=e=>z(e)?Hn(e):e;function An(e){me&&K&&(e=E(e),process.env.NODE_ENV!=="production"?Pt(e.dep||(e.dep=ke()),{target:e,type:"get",key:"value"}):Pt(e.dep||(e.dep=ke())))}function jn(e,t){e=E(e);const n=e.dep;n&&(process.env.NODE_ENV!=="production"?Ve(n,{target:e,type:"set",key:"value",newValue:t}):Ve(n))}function G(e){return!!(e&&e.__v_isRef===!0)}function Ge(e){return io(e,!1)}function io(e,t){return G(e)?e:new co(e,t)}class co{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:E(t),this._value=n?t:Ke(t)}get value(){return An(this),this._value}set value(t){const n=this.__v_isShallow||mt(t)||we(t);t=n?t:E(t),Be(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ke(t),jn(this,t))}}function ao(e){return G(e)?e.value:e}const uo={get:(e,t,n)=>ao(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return G(o)&&!G(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function lo(e){return Ee(e)?e:new Proxy(e,uo)}class fo{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Sn(t,()=>{this._dirty||(this._dirty=!0,jn(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=E(this);return An(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ho(e,t,n=!1){let r,o;const i=Z(e);i?(r=e,o=process.env.NODE_ENV!=="production"?()=>{console.warn("Write operation failed: computed value is readonly")}:ze):(r=e.get,o=e.set);const c=new fo(r,o,i||!o,n);return process.env.NODE_ENV!=="production"&&t&&!n&&(c.effect.onTrack=t.onTrack,c.effect.onTrigger=t.onTrigger),c}const Me=[];function po(e){Me.push(e)}function mo(){Me.pop()}function H(e,...t){if(process.env.NODE_ENV==="production")return;It();const n=Me.length?Me[Me.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=go();if(r)xe(r,n,11,[e+t.join(""),n&&n.proxy,o.map(({vnode:i})=>`at <${lr(n,i.type)}>`).join(`
`),o]);else{const i=[`[Vue warn]: ${e}`,...t];o.length&&i.push(`
`,..._o(o)),console.warn(...i)}Vt()}function go(){let e=Me[Me.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function _o(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...wo(n))}),t}function wo({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,o=` at <${lr(e.component,e.type,r)}`,i=">"+n;return e.props?[o,...vo(e.props),i]:[o+i]}function vo(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...Fn(r,e[r]))}),n.length>3&&t.push(" ..."),t}function Fn(e,t,n){return ee(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:G(t)?(t=Fn(e,E(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Z(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=E(t),n?t:[`${e}=`,t])}const Wt={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function xe(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){Yn(i,t,n)}return o}function Xe(e,t,n,r){if(Z(e)){const i=xe(e,t,n,r);return i&&Tr(i)&&i.catch(c=>{Yn(c,t,n)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(Xe(e[i],t,n,r));return o}function Yn(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const c=t.proxy,s=process.env.NODE_ENV!=="production"?Wt[n]:n;for(;i;){const p=i.ec;if(p){for(let S=0;S<p.length;S++)if(p[S](e,c,s)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){xe(l,null,10,[e,c,s]);return}}yo(e,n,o,r)}function yo(e,t,n,r=!0){if(process.env.NODE_ENV!=="production"){const o=Wt[t];if(n&&po(n),H(`Unhandled error${o?` during execution of ${o}`:""}`),n&&mo(),r)throw e;console.error(e)}else console.error(e)}let gt=!1,Zt=!1;const ne=[];let ve=0;const Pe=[];let ie=null,ye=0;const Wn=Promise.resolve();let zt=null;const bo=100;function Bt(e){const t=zt||Wn;return e?t.then(this?e.bind(this):e):t}function So(e){let t=ve+1,n=ne.length;for(;t<n;){const r=t+n>>>1;Je(ne[r])<e?t=r+1:n=r}return t}function kt(e){(!ne.length||!ne.includes(e,gt&&e.allowRecurse?ve+1:ve))&&(e.id==null?ne.push(e):ne.splice(So(e.id),0,e),Zn())}function Zn(){!gt&&!Zt&&(Zt=!0,zt=Wn.then(Bn))}function zn(e){D(e)?Pe.push(...e):(!ie||!ie.includes(e,e.allowRecurse?ye+1:ye))&&Pe.push(e),Zn()}function To(e){if(Pe.length){const t=[...new Set(Pe)];if(Pe.length=0,ie){ie.push(...t);return}for(ie=t,process.env.NODE_ENV!=="production"&&(e=e||new Map),ie.sort((n,r)=>Je(n)-Je(r)),ye=0;ye<ie.length;ye++)process.env.NODE_ENV!=="production"&&kn(e,ie[ye])||ie[ye]();ie=null,ye=0}}const Je=e=>e.id==null?1/0:e.id,Eo=(e,t)=>{const n=Je(e)-Je(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Bn(e){Zt=!1,gt=!0,process.env.NODE_ENV!=="production"&&(e=e||new Map),ne.sort(Eo);const t=process.env.NODE_ENV!=="production"?n=>kn(e,n):ze;try{for(ve=0;ve<ne.length;ve++){const n=ne[ve];if(n&&n.active!==!1){if(process.env.NODE_ENV!=="production"&&t(n))continue;xe(n,null,14)}}}finally{ve=0,ne.length=0,To(e),gt=!1,zt=null,(ne.length||Pe.length)&&Bn(e)}}function kn(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>bo){const r=t.ownerInstance,o=r&&ur(r.type);return H(`Maximum recursive updates exceeded${o?` in component <${o}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}const qe=new Set;process.env.NODE_ENV!=="production"&&($t().__VUE_HMR_RUNTIME__={createRecord:Ut(Mo),rerender:Ut(xo),reload:Ut(Oo)});const _t=new Map;function Mo(e,t){return _t.has(e)?!1:(_t.set(e,{initialDef:Qe(t),instances:new Set}),!0)}function Qe(e){return fr(e)?e.__vccOpts:e}function xo(e,t){const n=_t.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(r=>{t&&(r.render=t,Qe(r.type).render=t),r.renderCache=[],r.update()}))}function Oo(e,t){const n=_t.get(e);if(!n)return;t=Qe(t),Un(n.initialDef,t);const r=[...n.instances];for(const o of r){const i=Qe(o.type);qe.has(i)||(i!==n.initialDef&&Un(i,t),qe.add(i)),o.appContext.propsCache.delete(o.type),o.appContext.emitsCache.delete(o.type),o.appContext.optionsCache.delete(o.type),o.ceReload?(qe.add(i),o.ceReload(t.styles),qe.delete(i)):o.parent?kt(o.parent.update):o.appContext.reload?o.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}zn(()=>{for(const o of r)qe.delete(Qe(o.type))})}function Un(e,t){Q(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function Ut(e){return(t,n)=>{try{return e(t,n)}catch(r){console.error(r),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let ce=null,No=null;function Os(){}const $o=e=>e.__isSuspense;function Do(e,t){t&&t.pendingBranch?D(e)?t.effects.push(...e):t.effects.push(e):zn(e)}function Co(e,t){return Kt(e,null,process.env.NODE_ENV!=="production"?Q({},t,{flush:"post"}):{flush:"post"})}const wt={};function Ro(e,t,n){return process.env.NODE_ENV!=="production"&&!Z(t)&&H("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Kt(e,t,n)}function Kt(e,t,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:c}=se){var s;process.env.NODE_ENV!=="production"&&!t&&(n!==void 0&&H('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&H('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const l=N=>{H("Invalid watch source: ",N,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},p=Rr()===((s=ae)==null?void 0:s.scope)?ae:null;let S,u=!1,v=!1;if(G(e)?(S=()=>e.value,u=mt(e)):Ee(e)?(S=()=>e,r=!0):D(e)?(v=!0,u=e.some(N=>Ee(N)||mt(N)),S=()=>e.map(N=>{if(G(N))return N.value;if(Ee(N))return Le(N);if(Z(N))return xe(N,p,2);process.env.NODE_ENV!=="production"&&l(N)})):Z(e)?t?S=()=>xe(e,p,2):S=()=>{if(!(p&&p.isUnmounted))return O&&O(),Xe(e,p,3,[T])}:(S=ze,process.env.NODE_ENV!=="production"&&l(e)),t&&r){const N=S;S=()=>Le(N())}let O,T=N=>{O=R.onStop=()=>{xe(N,p,4)}},A;if(ar)if(T=ze,t?n&&Xe(t,p,3,[S(),v?[]:void 0,T]):S(),o==="sync"){const N=us();A=N.__watcherHandles||(N.__watcherHandles=[])}else return ze;let j=v?new Array(e.length).fill(wt):wt;const M=()=>{if(R.active)if(t){const N=R.run();(r||u||(v?N.some((te,Fe)=>Be(te,j[Fe])):Be(N,j)))&&(O&&O(),Xe(t,p,3,[N,j===wt?void 0:v&&j[0]===wt?[]:j,T]),j=N)}else R.run()};M.allowRecurse=!!t;let k;o==="sync"?k=M:o==="post"?k=()=>Qn(M,p&&p.suspense):(M.pre=!0,p&&(M.id=p.uid),k=()=>kt(M));const R=new Sn(S,k);process.env.NODE_ENV!=="production"&&(R.onTrack=i,R.onTrigger=c),t?n?M():j=R.run():o==="post"?Qn(R.run.bind(R),p&&p.suspense):R.run();const oe=()=>{R.stop(),p&&p.scope&&br(p.scope.effects,R)};return A&&A.push(oe),oe}function Io(e,t,n){const r=this.proxy,o=ee(e)?e.includes(".")?Vo(r,e):()=>r[e]:e.bind(r,r);let i;Z(t)?i=t:(i=t.handler,n=t);const c=ae;rn(this);const s=Kt(o,i.bind(r),n);return c?rn(c):cr(),s}function Vo(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Le(e,t){if(!z(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),G(e))Le(e.value,t);else if(D(e))for(let n=0;n<e.length;n++)Le(e[n],t);else if(ln(e)||Se(e))e.forEach(n=>{Le(n,t)});else if(hn(e))for(const n in e)Le(e[n],t);return e}function Po(e,t,n=ae,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...c)=>{if(n.isUnmounted)return;It(),rn(n);const s=Xe(t,n,e,c);return cr(),Vt(),s});return r?o.unshift(i):o.push(i),i}else if(process.env.NODE_ENV!=="production"){const o=Er(Wt[e].replace(/ hook$/,""));H(`${o} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Gt=e=>(t,n=ae)=>Po(e,(...r)=>t(...r),n),Xt=Gt("m"),Lo=Gt("bum"),Ho=Gt("um"),Ao=Symbol.for("v-ndc");function jo(e,t,n,r){let o;const i=n&&n[r];if(D(e)||ee(e)){o=new Array(e.length);for(let c=0,s=e.length;c<s;c++)o[c]=t(e[c],c,void 0,i&&i[c])}else if(typeof e=="number"){process.env.NODE_ENV!=="production"&&!Number.isInteger(e)&&H(`The v-for range expect an integer value but got ${e}.`),o=new Array(e);for(let c=0;c<e;c++)o[c]=t(c+1,c,void 0,i&&i[c])}else if(z(e))if(e[Symbol.iterator])o=Array.from(e,(c,s)=>t(c,s,void 0,i&&i[s]));else{const c=Object.keys(e);o=new Array(c.length);for(let s=0,l=c.length;s<l;s++){const p=c[s];o[s]=t(e[p],p,s,i&&i[s])}}else o=[];return n&&(n[r]=o),o}const Jt=e=>e?os(e)?ss(e)||e.proxy:Jt(e.parent):null,et=Q(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>process.env.NODE_ENV!=="production"?pt(e.props):e.props,$attrs:e=>process.env.NODE_ENV!=="production"?pt(e.attrs):e.attrs,$slots:e=>process.env.NODE_ENV!=="production"?pt(e.slots):e.slots,$refs:e=>process.env.NODE_ENV!=="production"?pt(e.refs):e.refs,$parent:e=>Jt(e.parent),$root:e=>Jt(e.root),$emit:e=>e.emit,$options:e=>Wo(e),$forceUpdate:e=>e.f||(e.f=()=>kt(e.update)),$nextTick:e=>e.n||(e.n=Bt.bind(e.proxy)),$watch:e=>Io.bind(e)}),Fo=e=>e==="_"||e==="$",qt=(e,t)=>e!==se&&!e.__isScriptSetup&&W(e,t),Yo={get({_:e},t){const{ctx:n,setupState:r,data:o,props:i,accessCache:c,type:s,appContext:l}=e;if(process.env.NODE_ENV!=="production"&&t==="__isVue")return!0;let p;if(t[0]!=="$"){const O=c[t];if(O!==void 0)switch(O){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(qt(r,t))return c[t]=1,r[t];if(o!==se&&W(o,t))return c[t]=2,o[t];if((p=e.propsOptions[0])&&W(p,t))return c[t]=3,i[t];if(n!==se&&W(n,t))return c[t]=4,n[t];c[t]=0}}const S=et[t];let u,v;if(S)return t==="$attrs"?(q(e,"get",t),process.env.NODE_ENV!=="production"&&void 0):process.env.NODE_ENV!=="production"&&t==="$slots"&&q(e,"get",t),S(e);if((u=s.__cssModules)&&(u=u[t]))return u;if(n!==se&&W(n,t))return c[t]=4,n[t];if(v=l.config.globalProperties,W(v,t))return v[t];process.env.NODE_ENV!=="production"&&ce&&(!ee(t)||t.indexOf("__v")!==0)&&(o!==se&&Fo(t[0])&&W(o,t)?H(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===ce&&H(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return qt(o,t)?(o[t]=n,!0):process.env.NODE_ENV!=="production"&&o.__isScriptSetup&&W(o,t)?(H(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):r!==se&&W(r,t)?(r[t]=n,!0):W(e.props,t)?(process.env.NODE_ENV!=="production"&&H(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(process.env.NODE_ENV!=="production"&&H(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&t in e.appContext.config.globalProperties?Object.defineProperty(i,t,{enumerable:!0,configurable:!0,value:n}):i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},c){let s;return!!n[c]||e!==se&&W(e,c)||qt(t,c)||(s=i[0])&&W(s,c)||W(r,c)||W(et,c)||W(o.config.globalProperties,c)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:W(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};process.env.NODE_ENV!=="production"&&(Yo.ownKeys=e=>(H("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e)));function Kn(e){return D(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Wo(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:c}}=e.appContext,s=i.get(t);let l;return s?l=s:!o.length&&!n&&!r?l=t:(l={},o.length&&o.forEach(p=>vt(l,p,c,!0)),vt(l,t,c)),z(t)&&i.set(t,l),l}function vt(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&vt(e,i,n,!0),o&&o.forEach(c=>vt(e,c,n,!0));for(const c in t)if(r&&c==="expose")process.env.NODE_ENV!=="production"&&H('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const s=Zo[c]||n&&n[c];e[c]=s?s(e[c],t[c]):t[c]}return e}const Zo={data:Gn,props:Jn,emits:Jn,methods:tt,computed:tt,beforeCreate:X,created:X,beforeMount:X,mounted:X,beforeUpdate:X,updated:X,beforeDestroy:X,beforeUnmount:X,destroyed:X,unmounted:X,activated:X,deactivated:X,errorCaptured:X,serverPrefetch:X,components:tt,directives:tt,watch:Bo,provide:Gn,inject:zo};function Gn(e,t){return t?e?function(){return Q(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function zo(e,t){return tt(Xn(e),Xn(t))}function Xn(e){if(D(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function X(e,t){return e?[...new Set([].concat(e,t))]:t}function tt(e,t){return e?Q(Object.create(null),e,t):t}function Jn(e,t){return e?D(e)&&D(t)?[...new Set([...e,...t])]:Q(Object.create(null),Kn(e),Kn(t??{})):t}function Bo(e,t){if(!e)return t;if(!t)return e;const n=Q(Object.create(null),e);for(const r in t)n[r]=X(e[r],t[r]);return n}let qn=null;function ko(e,t,n=!1){const r=ae||ce;if(r||qn){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:qn._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Z(t)?t.call(r&&r.proxy):t;process.env.NODE_ENV!=="production"&&H(`injection "${String(e)}" not found.`)}else process.env.NODE_ENV!=="production"&&H("inject() can only be used inside setup() or functional components.")}const Qn=Do,Uo=e=>e.__isTeleport,yt=Symbol.for("v-fgt"),Ko=Symbol.for("v-txt"),Qt=Symbol.for("v-cmt"),Go=Symbol.for("v-stc"),bt=[];let re=null;function He(e=!1){bt.push(re=e?null:[])}function Xo(){bt.pop(),re=bt[bt.length-1]||null}function er(e){return e.dynamicChildren=re||wr,Xo(),re&&re.push(e),e}function St(e,t,n,r,o,i){return er(nt(e,t,n,r,o,i,!0))}function tr(e,t,n,r,o){return er(en(e,t,n,r,o,!0))}function Jo(e){return e?e.__v_isVNode===!0:!1}const qo=(...e)=>or(...e),nr="__vInternal",rr=({key:e})=>e??null,Tt=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ee(e)||G(e)||Z(e)?{i:ce,r:e,k:t,f:!!n}:e:null);function nt(e,t=null,n=null,r=0,o=null,i=e===yt?0:1,c=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&rr(t),ref:t&&Tt(t),scopeId:No,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ce};return s?(tn(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=ee(n)?8:16),process.env.NODE_ENV!=="production"&&l.key!==l.key&&H("VNode created with invalid key (NaN). VNode type:",l.type),!c&&re&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&re.push(l),l}const en=process.env.NODE_ENV!=="production"?qo:or;function or(e,t=null,n=null,r=0,o=null,i=!1){if((!e||e===Ao)&&(process.env.NODE_ENV!=="production"&&!e&&H(`Invalid vnode type when creating vnode: ${e}.`),e=Qt),Jo(e)){const s=Et(e,t,!0);return n&&tn(s,n),!i&&re&&(s.shapeFlag&6?re[re.indexOf(e)]=s:re.push(s)),s.patchFlag|=-2,s}if(fr(e)&&(e=e.__vccOpts),t){t=Qo(t);let{class:s,style:l}=t;s&&!ee(s)&&(t.class=it(s)),z(l)&&(Ft(l)&&!D(l)&&(l=Q({},l)),t.style=st(l))}const c=ee(e)?1:$o(e)?128:Uo(e)?64:z(e)?4:Z(e)?2:0;return process.env.NODE_ENV!=="production"&&c&4&&Ft(e)&&(e=E(e),H("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),nt(e,t,n,r,o,c,i,!0)}function Qo(e){return e?Ft(e)||nr in e?Q({},e):e:null}function Et(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:c}=e,s=t?ns(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&rr(s),ref:t&&t.ref?n&&o?D(o)?o.concat(Tt(t)):[o,Tt(t)]:Tt(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:process.env.NODE_ENV!=="production"&&i===-1&&D(c)?c.map(sr):c,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==yt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Et(e.ssContent),ssFallback:e.ssFallback&&Et(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function sr(e){const t=Et(e);return D(e.children)&&(t.children=e.children.map(sr)),t}function es(e=" ",t=0){return en(Ko,null,e,t)}function ts(e="",t=!1){return t?(He(),tr(Qt,null,e)):en(Qt,null,e)}function tn(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(D(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),tn(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(nr in t)?t._ctx=ce:o===3&&ce&&(ce.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:ce},n=32):(t=String(t),r&64?(n=16,t=[es(t)]):n=8);e.children=t,e.shapeFlag|=n}function ns(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=it([t.class,r.class]));else if(o==="style")t.style=st([t.style,r.style]);else if(yr(o)){const i=t[o],c=r[o];c&&i!==c&&!(D(i)&&i.includes(c))&&(t[o]=i?[].concat(i,c):c)}else o!==""&&(t[o]=r[o])}return t}let ae=null;const rs=()=>ae||ce;let nn,Ae,ir="__VUE_INSTANCE_SETTERS__";(Ae=$t()[ir])||(Ae=$t()[ir]=[]),Ae.push(e=>ae=e),nn=e=>{Ae.length>1?Ae.forEach(t=>t(e)):Ae[0](e)};const rn=e=>{nn(e),e.scope.on()},cr=()=>{ae&&ae.scope.off(),nn(null)};function os(e){return e.vnode.shapeFlag&4}let ar=!1;function ss(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(lo(so(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in et)return et[n](e)},has(t,n){return n in t||n in et}}))}const is=/(?:^|[-_])(\w)/g,cs=e=>e.replace(is,t=>t.toUpperCase()).replace(/[-_]/g,"");function ur(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function lr(e,t,n=!1){let r=ur(t);if(!r&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&e&&e.parent){const o=i=>{for(const c in i)if(i[c]===t)return c};r=o(e.components||e.parent.type.components)||o(e.appContext.components)}return r?cs(r):n?"App":"Anonymous"}function fr(e){return Z(e)&&"__vccOpts"in e}const je=(e,t)=>ho(e,t,ar),as=Symbol.for("v-scx"),us=()=>{{const e=ko(as);return e||process.env.NODE_ENV!=="production"&&H("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function on(e){return!!(e&&e.__v_isShallow)}function ls(){if(process.env.NODE_ENV==="production"||typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#0b1bc9"},n={style:"color:#b62e24"},r={style:"color:#9d288c"},o={header(u){return z(u)?u.__isVue?["div",e,"VueInstance"]:G(u)?["div",{},["span",e,S(u)],"<",s(u.value),">"]:Ee(u)?["div",{},["span",e,on(u)?"ShallowReactive":"Reactive"],"<",s(u),`>${we(u)?" (readonly)":""}`]:we(u)?["div",{},["span",e,on(u)?"ShallowReadonly":"Readonly"],"<",s(u),">"]:null:null},hasBody(u){return u&&u.__isVue},body(u){if(u&&u.__isVue)return["div",{},...i(u.$)]}};function i(u){const v=[];u.type.props&&u.props&&v.push(c("props",E(u.props))),u.setupState!==se&&v.push(c("setup",u.setupState)),u.data!==se&&v.push(c("data",E(u.data)));const O=l(u,"computed");O&&v.push(c("computed",O));const T=l(u,"inject");return T&&v.push(c("injected",T)),v.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:u}]]),v}function c(u,v){return v=Q({},v),Object.keys(v).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},u],["div",{style:"padding-left:1.25em"},...Object.keys(v).map(O=>["div",{},["span",r,O+": "],s(v[O],!1)])]]:["span",{}]}function s(u,v=!0){return typeof u=="number"?["span",t,u]:typeof u=="string"?["span",n,JSON.stringify(u)]:typeof u=="boolean"?["span",r,u]:z(u)?["object",{object:v?E(u):u}]:["span",n,String(u)]}function l(u,v){const O=u.type;if(Z(O))return;const T={};for(const A in u.ctx)p(O,A,v)&&(T[A]=u.ctx[A]);return T}function p(u,v,O){const T=u[O];if(D(T)&&T.includes(v)||z(T)&&v in T||u.extends&&p(u.extends,v,O)||u.mixins&&u.mixins.some(A=>p(A,v,O)))return!0}function S(u){return on(u)?"ShallowRef":u.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(o):window.devtoolsFormatters=[o]}function fs(e){const t=rs();if(!t){process.env.NODE_ENV!=="production"&&H("useCssVars is called without current active component instance.");return}const n=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>cn(i,o))},r=()=>{const o=e(t.proxy);sn(t.subTree,o),n(o)};Co(r),Xt(()=>{const o=new MutationObserver(r);o.observe(t.subTree.el.parentNode,{childList:!0}),Ho(()=>o.disconnect())})}function sn(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{sn(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)cn(e.el,t);else if(e.type===yt)e.children.forEach(n=>sn(n,t));else if(e.type===Go){let{el:n,anchor:r}=e;for(;n&&(cn(n,t),n!==r);)n=n.nextSibling}}function cn(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const ds=["ctrl","shift","alt","meta"],hs={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ds.some(n=>e[`${n}Key`]&&!t.includes(n))},ps=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const i=hs[t[o]];if(i&&i(n,t))return}return e(n,...r)};function ms(){ls()}process.env.NODE_ENV!=="production"&&ms();var gs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dr={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(gs,function(){var n=1e3,r=6e4,o=36e5,i="millisecond",c="second",s="minute",l="hour",p="day",S="week",u="month",v="quarter",O="year",T="date",A="Invalid Date",j=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var m=["th","st","nd","rd"],f=_%100;return"["+_+(m[(f-20)%10]||m[f]||m[0])+"]"}},R=function(_,m,f){var g=String(_);return!g||g.length>=m?_:""+Array(m+1-g.length).join(f)+_},oe={s:R,z:function(_){var m=-_.utcOffset(),f=Math.abs(m),g=Math.floor(f/60),d=f%60;return(m<=0?"+":"-")+R(g,2,"0")+":"+R(d,2,"0")},m:function _(m,f){if(m.date()<f.date())return-_(f,m);var g=12*(f.year()-m.year())+(f.month()-m.month()),d=m.clone().add(g,u),y=f-d<0,b=m.clone().add(g+(y?-1:1),u);return+(-(g+(f-d)/(y?d-b:b-d))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:u,y:O,w:S,d:p,D:T,h:l,m:s,s:c,ms:i,Q:v}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},N="en",te={};te[N]=k;var Fe="$isDayjsObject",rt=function(_){return _ instanceof De||!(!_||!_[Fe])},$e=function _(m,f,g){var d;if(!m)return N;if(typeof m=="string"){var y=m.toLowerCase();te[y]&&(d=y),f&&(te[y]=f,d=y);var b=m.split("-");if(!d&&b.length>1)return _(b[0])}else{var C=m.name;te[C]=m,d=C}return!g&&d&&(N=d),d||!g&&N},P=function(_,m){if(rt(_))return _.clone();var f=typeof m=="object"?m:{};return f.date=_,f.args=arguments,new De(f)},$=oe;$.l=$e,$.i=rt,$.w=function(_,m){return P(_,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var De=function(){function _(f){this.$L=$e(f.locale,null,!0),this.parse(f),this.$x=this.$x||f.x||{},this[Fe]=!0}var m=_.prototype;return m.parse=function(f){this.$d=function(g){var d=g.date,y=g.utc;if(d===null)return new Date(NaN);if($.u(d))return new Date;if(d instanceof Date)return new Date(d);if(typeof d=="string"&&!/Z$/i.test(d)){var b=d.match(j);if(b){var C=b[2]-1||0,L=(b[7]||"0").substring(0,3);return y?new Date(Date.UTC(b[1],C,b[3]||1,b[4]||0,b[5]||0,b[6]||0,L)):new Date(b[1],C,b[3]||1,b[4]||0,b[5]||0,b[6]||0,L)}}return new Date(d)}(f),this.init()},m.init=function(){var f=this.$d;this.$y=f.getFullYear(),this.$M=f.getMonth(),this.$D=f.getDate(),this.$W=f.getDay(),this.$H=f.getHours(),this.$m=f.getMinutes(),this.$s=f.getSeconds(),this.$ms=f.getMilliseconds()},m.$utils=function(){return $},m.isValid=function(){return this.$d.toString()!==A},m.isSame=function(f,g){var d=P(f);return this.startOf(g)<=d&&d<=this.endOf(g)},m.isAfter=function(f,g){return P(f)<this.startOf(g)},m.isBefore=function(f,g){return this.endOf(g)<P(f)},m.$g=function(f,g,d){return $.u(f)?this[g]:this.set(d,f)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(f,g){var d=this,y=!!$.u(g)||g,b=$.p(f),C=function(de,U){var fe=$.w(d.$u?Date.UTC(d.$y,U,de):new Date(d.$y,U,de),d);return y?fe:fe.endOf(p)},L=function(de,U){return $.w(d.toDate()[de].apply(d.toDate("s"),(y?[0,0,0,0]:[23,59,59,999]).slice(U)),d)},F=this.$W,V=this.$M,J=this.$D,ue="set"+(this.$u?"UTC":"");switch(b){case O:return y?C(1,0):C(31,11);case u:return y?C(1,V):C(0,V+1);case S:var le=this.$locale().weekStart||0,Ce=(F<le?F+7:F)-le;return C(y?J-Ce:J+(6-Ce),V);case p:case T:return L(ue+"Hours",0);case l:return L(ue+"Minutes",1);case s:return L(ue+"Seconds",2);case c:return L(ue+"Milliseconds",3);default:return this.clone()}},m.endOf=function(f){return this.startOf(f,!1)},m.$set=function(f,g){var d,y=$.p(f),b="set"+(this.$u?"UTC":""),C=(d={},d[p]=b+"Date",d[T]=b+"Date",d[u]=b+"Month",d[O]=b+"FullYear",d[l]=b+"Hours",d[s]=b+"Minutes",d[c]=b+"Seconds",d[i]=b+"Milliseconds",d)[y],L=y===p?this.$D+(g-this.$W):g;if(y===u||y===O){var F=this.clone().set(T,1);F.$d[C](L),F.init(),this.$d=F.set(T,Math.min(this.$D,F.daysInMonth())).$d}else C&&this.$d[C](L);return this.init(),this},m.set=function(f,g){return this.clone().$set(f,g)},m.get=function(f){return this[$.p(f)]()},m.add=function(f,g){var d,y=this;f=Number(f);var b=$.p(g),C=function(V){var J=P(y);return $.w(J.date(J.date()+Math.round(V*f)),y)};if(b===u)return this.set(u,this.$M+f);if(b===O)return this.set(O,this.$y+f);if(b===p)return C(1);if(b===S)return C(7);var L=(d={},d[s]=r,d[l]=o,d[c]=n,d)[b]||1,F=this.$d.getTime()+f*L;return $.w(F,this)},m.subtract=function(f,g){return this.add(-1*f,g)},m.format=function(f){var g=this,d=this.$locale();if(!this.isValid())return d.invalidDate||A;var y=f||"YYYY-MM-DDTHH:mm:ssZ",b=$.z(this),C=this.$H,L=this.$m,F=this.$M,V=d.weekdays,J=d.months,ue=d.meridiem,le=function(U,fe,Re,Ye){return U&&(U[fe]||U(g,y))||Re[fe].slice(0,Ye)},Ce=function(U){return $.s(C%12||12,U,"0")},de=ue||function(U,fe,Re){var Ye=U<12?"AM":"PM";return Re?Ye.toLowerCase():Ye};return y.replace(M,function(U,fe){return fe||function(Re){switch(Re){case"YY":return String(g.$y).slice(-2);case"YYYY":return $.s(g.$y,4,"0");case"M":return F+1;case"MM":return $.s(F+1,2,"0");case"MMM":return le(d.monthsShort,F,J,3);case"MMMM":return le(J,F);case"D":return g.$D;case"DD":return $.s(g.$D,2,"0");case"d":return String(g.$W);case"dd":return le(d.weekdaysMin,g.$W,V,2);case"ddd":return le(d.weekdaysShort,g.$W,V,3);case"dddd":return V[g.$W];case"H":return String(C);case"HH":return $.s(C,2,"0");case"h":return Ce(1);case"hh":return Ce(2);case"a":return de(C,L,!0);case"A":return de(C,L,!1);case"m":return String(L);case"mm":return $.s(L,2,"0");case"s":return String(g.$s);case"ss":return $.s(g.$s,2,"0");case"SSS":return $.s(g.$ms,3,"0");case"Z":return b}return null}(U)||b.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(f,g,d){var y,b=this,C=$.p(g),L=P(f),F=(L.utcOffset()-this.utcOffset())*r,V=this-L,J=function(){return $.m(b,L)};switch(C){case O:y=J()/12;break;case u:y=J();break;case v:y=J()/3;break;case S:y=(V-F)/6048e5;break;case p:y=(V-F)/864e5;break;case l:y=V/o;break;case s:y=V/r;break;case c:y=V/n;break;default:y=V}return d?y:$.a(y)},m.daysInMonth=function(){return this.endOf(u).$D},m.$locale=function(){return te[this.$L]},m.locale=function(f,g){if(!f)return this.$L;var d=this.clone(),y=$e(f,g,!0);return y&&(d.$L=y),d},m.clone=function(){return $.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},_}(),Mt=De.prototype;return P.prototype=Mt,[["$ms",i],["$s",c],["$m",s],["$H",l],["$W",p],["$M",u],["$y",O],["$D",T]].forEach(function(_){Mt[_[1]]=function(m){return this.$g(m,_[0],_[1])}}),P.extend=function(_,m){return _.$i||(_(m,De,P),_.$i=!0),P},P.locale=$e,P.isDayjs=rt,P.unix=function(_){return P(1e3*_)},P.en=te[N],P.Ls=te,P.p={},P})})(dr);var ws=dr.exports;const Oe=_s(ws),Ns="",hr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},vs={class:"order"},ys=hr(Object.assign({name:"WindowListItem"},{__name:"WindowListItem",props:{index:{type:Number},data:{type:Object,default(){return{}}},totalMS:{type:Number},startTimestamp:{type:Number},width:{type:Number},active:{type:Boolean,default:!1},multiSegmentActiveColor:{type:String,default:"#333"}},emits:["click","click_window_timeSegments"],setup(e,{expose:t,emit:n}){const r=e;fs(T=>({"427ddd57":T.multiSegment}));const o=Ge(null),i=Ge(null),c=ht({height:0,ctx:null}),s=()=>{let{height:T}=o.value.getBoundingClientRect();c.height=T-1,i.value.width=r.width,i.value.height=c.height,c.ctx=i.value.getContext("2d")},l=(T,A)=>{if(!r.data.timeSegments||r.data.timeSegments.length<=0)return;const j=r.width/r.totalMS;r.data.timeSegments.forEach(M=>{if(M.beginTime<=r.startTimestamp+r.totalMS&&M.endTime>=r.startTimestamp){c.ctx.beginPath();let k=(M.beginTime-r.startTimestamp)*j,R;k<0?(k=0,R=(M.endTime-r.startTimestamp)*j):R=(M.endTime-M.beginTime)*j;let oe=M.startRatio===void 0?.6:M.startRatio,N=M.endRatio===void 0?.9:M.endRatio;A?c.ctx.rect(k,c.height*oe,R,c.height*(N-oe)):(c.ctx.fillStyle=M.color,c.ctx.fillRect(k,c.height*oe,R,c.height*(N-oe))),T&&T(M)}})},p=()=>{c.ctx.clearRect(0,0,r.width,c.height)},S=()=>{Bt(()=>{p(),l()})},u=T=>{n("click",T);let{left:A,top:j}=o.value.getBoundingClientRect(),M=T.clientX-A,k=T.clientY-j,R=v(M,k);R.length>0&&n("click_window_timeSegments",R,r.index,r.data)},v=(T,A)=>{if(!r.data.timeSegments||r.data.timeSegments.length<=0)return[];let j=[];return l(M=>{c.ctx.isPointInPath(T,A)&&j.push(M)},!0),j},O=()=>o.value?o.value.getBoundingClientRect():null;return Xt(()=>{s(),l()}),t({draw:S,getRect:O}),(T,A)=>(He(),St("div",{class:it(["windowListItem",{active:e.active}]),ref_key:"windowListItem",ref:o,onClick:u},[nt("span",vs,Dr(e.index+1),1),nt("canvas",{class:"windowListItemCanvas",ref_key:"canvas",ref:i},null,512)],2))}}),[["__scopeId","data-v-35f19113"]]),pr=60*60*1e3,Ne=[.5,1,2,6,12,24,72,360,720,8760,87600],mr=[1/60,1/60,2/60,1/6,.25,.5,1,4,4,720,7200],gr=[1/20,1/30,1/20,1/3,.5,2,4,4,4,720,7200],bs=[()=>!0,e=>e.getMinutes()%5===0,e=>e.getMinutes()%10===0,e=>e.getMinutes()===0||e.getMinutes()===30,e=>e.getMinutes()===0,e=>e.getHours()%2===0&&e.getMinutes()===0,e=>e.getHours()%3===0&&e.getMinutes()===0,e=>e.getHours()%12===0&&e.getMinutes()===0,e=>!1,e=>!0,e=>!0],Ss=[()=>!0,e=>e.getMinutes()%5===0,e=>e.getMinutes()%10===0,e=>e.getMinutes()===0||e.getMinutes()===30,e=>e.getHours()%2===0&&e.getMinutes()===0,e=>e.getHours()%4===0&&e.getMinutes()===0,e=>e.getHours()%3===0&&e.getMinutes()===0,e=>e.getHours()%12===0&&e.getMinutes()===0,e=>!1,e=>!0,e=>!0],Ds="",Ts=["onMousewheel"],_r=hr(Object.assign({name:"TimeLine"},{__name:"TimeLine",props:{initTime:{type:[Number,String],default:""},timeRange:{type:Object,default(){return{}}},initZoomIndex:{type:Number,default:5},showCenterLine:{type:Boolean,default:!0},centerLineStyle:{type:Object,default(){return{width:2,color:"#fff"}}},textColor:{type:String,default:"rgba(151,158,167,1)"},hoverTextColor:{type:String,default:"rgb(194, 202, 215)"},lineColor:{type:String,default:"rgba(151,158,167,1)"},lineHeightRatio:{type:Object,default(){return{date:.3,time:.2,none:.1,hover:.3}}},showHoverTime:{type:Boolean,default:!0},hoverTimeFormat:{type:Function},timeSegments:{type:Array,default:()=>[]},backgroundColor:{type:String,default:"#262626"},multiSegmentActiveColor:{type:String},enableZoom:{type:Boolean,default:!0},enableDrag:{type:Boolean,default:!0},windowList:{type:Array,default:()=>[]},baseTimeLineHeight:{type:Number,default:50},initSelectWindowTimeLineIndex:{type:Number,default:-1},isMobile:{type:Boolean,default:!1},maxClickDistance:{type:Number,default:3},roundWidthTimeSegments:{type:Boolean,default:!0},customShowTime:{type:Function},showDateAtZero:{type:Boolean,default:!0},extendZOOM:{type:Array,default(){return[]}},formatTime:{type:Function}},emits:["timeChange","mousedown","dragTimeChange","mouseup","click_timeSegments","click_timeline","change_window_time_line","click_window_timeSegments"],setup(e,{expose:t,emit:n}){const r=e,o=Ge(null),i=Ge(null),c=Ge([]),s=ht({width:0,height:0,ctx:null,currentZoomIndex:0,currentTime:0,startTimestamp:0,mousedown:!1,mousedownX:0,mousedownY:0,mousedownCacheStartTimestamp:0,showWindowList:!1,windowListInner:[],mousemoveX:-1,watchTimeList:[]});r.extendZOOM.forEach(a=>{Ne.push(a.zoom),mr.push(a.zoomHourGrid),gr.push(a.mobileZoomHourGrid)});const l=je(()=>Ne[s.currentZoomIndex]*pr),p=je(()=>{let a={};return r.timeRange.start&&(a.start=typeof r.timeRange.start=="number"?r.timeRange.start:new Date(r.timeRange.start).getTime()),r.timeRange.end&&(a.end=typeof r.timeRange.end=="number"?r.timeRange.end:new Date(r.timeRange.end).getTime()),a}),S=je(()=>r.isMobile?gr:mr),u=je(()=>r.isMobile?Ss:bs),v=je(()=>s.currentZoomIndex===9),O=je(()=>s.currentZoomIndex===10),T=()=>{s.windowListInner=r.windowList.map((a,h)=>({...a,active:r.initSelectWindowTimeLineIndex===h})),s.currentZoomIndex=r.initZoomIndex>=0&&r.initZoomIndex<Ne.length?r.initZoomIndex:5,s.startTimestamp=(r.initTime?typeof r.initTime=="number"?r.initTime:new Date(r.initTime).getTime():new Date(Oe().format("YYYY-MM-DD 00:00:00")).getTime())-l.value/2,A()},A=()=>{let a=l.value/2,h=s.startTimestamp+a;p.value.start&&h<p.value.start&&(s.startTimestamp=p.value.start-a),p.value.end&&h>p.value.end&&(s.startTimestamp=p.value.end-a)},j=()=>{let{width:a,height:h}=o.value.getBoundingClientRect();s.width=a,s.height=r.windowList.length>1?r.baseTimeLineHeight:h,i.value.width=s.width,i.value.height=s.height,s.ctx=i.value.getContext("2d"),s.showWindowList=!0},M=()=>{te(),oe(),R(),s.currentTime=s.startTimestamp+l.value/2,n("timeChange",s.currentTime);try{c.value.forEach(a=>{a.draw()})}catch(a){console.error(a)}k()},k=()=>{s.watchTimeList.forEach(a=>{if(a.time<s.startTimestamp||a.time>s.startTimestamp+l.value)a.callback(-1,-1);else{let h=(a.time-s.startTimestamp)*(s.width/l.value),w=0,{left:x,top:Y}=i.value.getBoundingClientRect();if(a.windowTimeLineIndex!==-1&&r.windowList.length>1&&a.windowTimeLineIndex>=0&&a.windowTimeLineIndex<r.windowList.length){let I=c.value[a.windowTimeLineIndex].getRect();w=I?I.top:Y}else w=Y;a.callback(h+x,w)}})},R=()=>{if(!r.showCenterLine)return;s.ctx.beginPath();let{width:a,color:h}=r.centerLineStyle,w=s.width/2;ue(w,0,w,s.height,a,h)},oe=()=>{s.ctx.beginPath();let a=Ne[s.currentZoomIndex]/S.value[s.currentZoomIndex],h=S.value[s.currentZoomIndex]*pr,w=s.width/a,x=h-s.startTimestamp%h,Y=x/h*w;for(let I=0;I<a;I++){let B=s.startTimestamp+x+I*h,he=0;O.value?he=B-new Date(`${Oe(B).format("YYYY")}-01-01 00:00:00`).getTime():v.value&&(he=B-new Date(`${Oe(B).format("YYYY")}-${Oe(B).format("MM")}-01 00:00:00`).getTime());let Ie=Y+I*w-he/h*w,an=B-he,We=0,un=new Date(an);r.showDateAtZero&&un.getHours()===0&&un.getMinutes()===0?(We=s.height*(r.lineHeightRatio.date===void 0?.3:r.lineHeightRatio.date),s.ctx.fillStyle=r.textColor,s.ctx.fillText(J(an),Ie-13,We+15)):N(un)?(We=s.height*(r.lineHeightRatio.time===void 0?.2:r.lineHeightRatio.time),s.ctx.fillStyle=r.textColor,s.ctx.fillText(J(an),Ie-13,We+15)):We=s.height*(r.lineHeightRatio.none===void 0?.1:r.lineHeightRatio.none),ue(Ie,0,Ie,We,1,r.lineColor)}},N=a=>{if(r.customShowTime){let h=r.customShowTime(a,s.currentZoomIndex);if(h===!0)return!0;if(h===!1)return!1}return u.value[s.currentZoomIndex](a)},te=(a,h)=>{const w=s.width/l.value;r.timeSegments.forEach(x=>{if(x.beginTime<=s.startTimestamp+l.value){let Y=x.endTime>=s.startTimestamp;s.ctx.beginPath();let I=(x.beginTime-s.startTimestamp)*w,B;I<0?(I=0,B=Y?(x.endTime-s.startTimestamp)*w:1):B=Y?(x.endTime-x.beginTime)*w:1;let he=x.startRatio===void 0?.6:x.startRatio,Ie=x.endRatio===void 0?.9:x.endRatio;r.roundWidthTimeSegments&&(I=Math.round(I),B=Math.round(B)),B=Math.max(1,B),h?s.ctx.rect(I,s.height*he,B,s.height*(Ie-he)):(s.ctx.fillStyle=x.color,s.ctx.fillRect(I,s.height*he,B,s.height*(Ie-he))),a&&a(x)}})},Fe=a=>{r.isMobile&&(a=a.touches[0],$e(a))},rt=a=>{r.isMobile||$e(a)},$e=a=>{let h=F(a);a.target.style.cursor="grabbing",s.mousedownX=h[0],s.mousedownY=h[1],s.mousedown=!0,s.mousedownCacheStartTimestamp=s.startTimestamp,n("mousedown",a)};let P=a=>{r.isMobile&&(a=a.touches[0],De(a))},$=a=>{r.isMobile||De(a)};const De=a=>{a.target.style.cursor="pointer";let h=F(a);const w=()=>{s.mousedown=!1,s.mousedownX=0,s.mousedownY=0,s.mousedownCacheStartTimestamp=0};if(Math.abs(h[0]-s.mousedownX)<=r.maxClickDistance&&Math.abs(h[1]-s.mousedownY)<=r.maxClickDistance){w(),C(...h);return}s.mousedown&&r.enableDrag?(w(),n("dragTimeChange",s.currentTime)):w(),n("mouseup",a)},Mt=a=>{r.isMobile&&(a=a.touches[0],m(a))},_=a=>{r.isMobile||m(a)},m=a=>{let h=F(a)[0];s.mousemoveX=h,s.mousedown&&r.enableDrag?g(h):r.showHoverTime&&d(h)},f=()=>{s.mousemoveX=-1},g=a=>{if(!r.enableDrag)return;const h=s.width/l.value;let w=a-s.mousedownX,x=l.value/2,Y=s.mousedownCacheStartTimestamp-Math.round(w/h),I=Y+x;p.value.start&&I<p.value.start&&(Y=p.value.start-x),p.value.end&&I>p.value.end&&(Y=p.value.end-x),s.startTimestamp=Y,V(s.width,s.height),M()},d=(a,h)=>{const w=s.width/l.value;let x=s.startTimestamp+a/w;h||(V(s.width,s.height),M());let Y=s.height*(r.lineHeightRatio.hover===void 0?.3:r.lineHeightRatio.hover);ue(a,0,a,Y,1,r.lineColor),s.ctx.fillStyle=r.hoverTextColor;let I=r.hoverTimeFormat?r.hoverTimeFormat(x):Oe(x).format("YYYY-MM-DD HH:mm:ss"),B=s.ctx.measureText(I).width;s.ctx.fillText(I,a-B/2,Y+20)},y=()=>{V(s.width,s.height),M()},b=a=>{if(!r.enableZoom)return;let h=window.event||a,w=Math.max(-1,Math.min(1,h.wheelDelta||-h.detail));w<0?s.currentZoomIndex+1>=Ne.length-1?s.currentZoomIndex=Ne.length-1:s.currentZoomIndex++:w>0&&(s.currentZoomIndex-1<=0?s.currentZoomIndex=0:s.currentZoomIndex--),V(s.width,s.height),s.startTimestamp=s.currentTime-l.value/2,M()},C=(a,h)=>{const w=s.width/l.value;let x=s.startTimestamp+a/w,Y=Oe(x).format("YYYY-MM-DD HH:mm:ss"),I=L(a,h);I&&I.length>0?n("click_timeSegments",I,x,Y,a):xs(x,Y,a)},L=(a,h)=>{let w=[];return te(x=>{s.ctx.isPointInPath(a,h)&&w.push(x)},!0),w},F=a=>{if(!o.value||!a)return[0,0];let{left:h,top:w}=o.value.getBoundingClientRect();return[a.clientX-h,a.clientY-w]},V=(a,h)=>{s.ctx.clearRect(0,0,a,h)},J=a=>{let h=Oe(a),w="";return r.formatTime&&(w=r.formatTime(h)),w||(O.value?h.format("YYYY"):v.value?h.format("YYYY-MM"):h.hour()===0&&h.minute()===0&&h.millisecond()===0?h.format("MM-DD"):h.format("HH:mm"))},ue=(a,h,w,x,Y=1,I="#fff")=>{s.ctx.beginPath(),s.ctx.strokeStyle=I,s.ctx.lineWidth=Y,s.ctx.moveTo(a,h),s.ctx.lineTo(w,x),s.ctx.stroke()},le=()=>{Bt(()=>{V(s.width,s.height),Ce(),T(),j(),M()})},Ce=()=>{s.width=0,s.height=0,s.ctx=null,s.currentZoomIndex=0,s.currentTime=0,s.startTimestamp=0,s.mousedown=!1,s.mousedownX=0,s.mousedownCacheStartTimestamp=0},de=a=>{if(s.mousedown)return;let h=typeof a=="number"?a:new Date(a).getTime();s.startTimestamp=h-l.value/2,A(),V(s.width,s.height),M(),s.mousemoveX!==-1&&!r.isMobile&&d(s.mousemoveX,!0)},U=(a,h,w)=>{n("click_window_timeSegments",a,h,w)},fe=a=>{s.currentZoomIndex=a>=0&&a<Ne.length?a:5,V(s.width,s.height),s.startTimestamp=s.currentTime-l.value/2,M()},Re=a=>{s.windowListInner.forEach(h=>{h.active=!1}),s.windowListInner[a].active=!0,n("change_window_time_line",a,s.windowListInner[a])},Ye=(a,h,w)=>{!a||!h||s.watchTimeList.push({time:typeof a=="number"?a:new Date(a).getTime(),callback:h,windowTimeLineIndex:typeof w=="number"?w-1:-1})},Ms=()=>{k()};let xt=()=>{j(),M();try{c.value.forEach(a=>{a.init()})}catch(a){console.error(a)}};const xs=(...a)=>{n("click_timeline",...a)};return Ro(()=>r.timeSegments,le,{deep:!0}),Xt(()=>{T(),j(),M(),$=$.bind(this),xt=xt.bind(this),P=P.bind(this),r.isMobile?window.addEventListener("touchend",P):window.addEventListener("mouseup",$),window.addEventListener("resize",xt)}),Lo(()=>{r.isMobile?window.removeEventListener("touchend",P):window.removeEventListener("mouseup",$),window.removeEventListener("resize",xt)}),t({setTime:de,setZoom:fe,watchTime:Ye,reRender:le}),(a,h)=>(He(),St("div",{class:"timeLineContainer",ref_key:"timeLineContainer",ref:o,style:st({backgroundColor:e.backgroundColor}),onTouchstart:Fe,onTouchmove:Mt,onMousedown:rt,onMouseout:y,onMousemove:_,onMouseleave:f},[nt("canvas",{class:"canvas",ref_key:"canvas",ref:i,onMousewheel:ps(b,["stop","prevent"])},null,40,Ts),s.showWindowList&&e.windowList&&e.windowList.length>1?(He(),St("div",{key:0,class:"windowList",ref:"windowList",onScroll:Ms},[(He(!0),St(yt,null,jo(s.windowListInner,(w,x)=>(He(),tr(ys,{ref_for:!0,ref_key:"WindowListItemRef",ref:c,key:x,index:x,data:w,totalMS:l.value,startTimestamp:s.startTimestamp,width:s.width,active:w.active,multiSegmentActiveColor:e.multiSegmentActiveColor,onClick_window_timeSegments:U,onClick:Y=>Re(x)},null,8,["index","data","totalMS","startTimestamp","width","active","multiSegmentActiveColor","onClick"]))),128))],544)):ts("",!0)],36))}}),[["__scopeId","data-v-55d6c60f"]]),Es={install(e,t){const n=t!=null&&t.comName?t==null?void 0:t.comName:"TimeLine";e.component(n,_r)}};be.TimeLineCom=_r,be.default=Es,Object.defineProperties(be,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
